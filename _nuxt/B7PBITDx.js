import{_ as ee}from"./Bd9eKNx1.js";import{i as J,p as te,g as F,r as C,e as M,n as K,f as c,h as ae,j as se,k as oe,l as W,m as R,o as x,w as E,q as j,s as u,v as X,x as ne,y as re,z as ie,A as le,B as ue,c as _,C as B,b as k,D as O,E as $,d as L,t as z,F as D,G as Y,H as ce,I as de,J as me,u as pe,a as h,K as fe,L as ve,M as he}from"#entry";import{u as xe,P as A,g as ge,c as be,r as ye,t as U,d as _e,n as we,a as Ve,k as Ce,b as Pe,e as Se,_ as ze}from"./DlOHTF-w.js";import"./BBc5Q86o.js";import"./DlAUqK2U.js";import"./Ceu9FzwI.js";function Ne(e,a){const t=`${e}Context`,l=Symbol(t);return[i=>{const r=J(l,i);if(r||r===null)return r;throw new Error(`Injection \`${l.toString()}\` not found. Component must be used within ${Array.isArray(e)?`one of the following components: ${e.join(", ")}`:`\`${e}\``}`)},i=>(te(l,i),i)]}function Z(e){return e==null}typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const $e=e=>typeof e<"u";function ke(e){var a;const t=ae(e);return(a=t?.$el)!=null?a:t}function Ee(e){return JSON.parse(JSON.stringify(e))}function H(e,a,t,l={}){var s,n,i;const{clone:r=!1,passive:d=!1,eventName:N,deep:b=!1,defaultValue:m,shouldEmit:p}=l,v=F(),w=t||v?.emit||((s=v?.$emit)==null?void 0:s.bind(v))||((i=(n=v?.proxy)==null?void 0:n.$emit)==null?void 0:i.bind(v?.proxy));let y=N;a||(a="modelValue"),y=y||`update:${a.toString()}`;const S=o=>r?typeof r=="function"?r(o):Ee(o):o,f=()=>$e(e[a])?S(e[a]):m,g=o=>{p?p(o)&&w(y,o):w(y,o)};if(d){const o=f(),q=C(o);let P=!1;return M(()=>e[a],V=>{P||(P=!0,q.value=S(V),K(()=>P=!1))}),M(q,V=>{!P&&(V!==e[a]||b)&&g(V)},{deep:b}),q}else return c({get(){return f()},set(o){g(o)}})}function Te(e){const a=F(),t=a?.type.emits,l={};return t?.length||console.warn(`No emitted event found. Please check component: ${a?.type.__name}`),t?.forEach(s=>{l[se(oe(s))]=(...n)=>e(s,...n)}),l}function Q(){const e=F(),a=C(),t=c(()=>["#text","#comment"].includes(a.value?.$el.nodeName)?a.value?.$el.nextElementSibling:ke(a)),l=Object.assign({},e.exposed),s={};for(const i in e.props)Object.defineProperty(s,i,{enumerable:!0,configurable:!0,get:()=>e.props[i]});if(Object.keys(l).length>0)for(const i in l)Object.defineProperty(s,i,{enumerable:!0,configurable:!0,get:()=>l[i]});Object.defineProperty(s,"$el",{enumerable:!0,configurable:!0,get:()=>e.vnode.el}),e.exposed=s;function n(i){a.value=i,i&&(Object.defineProperty(s,"$el",{enumerable:!0,configurable:!0,get:()=>i instanceof Element?i:i.$el}),e.exposed=s)}return{forwardRef:n,currentRef:a,currentElement:t}}function qe(e,a){const t=xe(e),l=a?Te(a):{};return c(()=>({...t.value,...l}))}const T=100,[Me,je]=Ne("ProgressRoot"),I=e=>typeof e=="number";function Ie(e,a){return Z(e)||I(e)&&!Number.isNaN(e)&&e<=a&&e>=0?e:(console.error(`Invalid prop \`value\` of value \`${e}\` supplied to \`ProgressRoot\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${T} if no \`max\` prop is set)
  - \`null\`  or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`),null)}function Re(e){return I(e)&&!Number.isNaN(e)&&e>0?e:(console.error(`Invalid prop \`max\` of value \`${e}\` supplied to \`ProgressRoot\`. Only numbers greater than 0 are valid max values. Defaulting to \`${T}\`.`),T)}var Be=W({__name:"ProgressRoot",props:{modelValue:{type:[Number,null],required:!1},max:{type:Number,required:!1,default:T},getValueLabel:{type:Function,required:!1,default:(e,a)=>I(e)?`${Math.round(e/a*T)}%`:void 0},getValueText:{type:Function,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["update:modelValue","update:max"],setup(e,{emit:a}){const t=e,l=a;Q();const s=H(t,"modelValue",l,{passive:t.modelValue===void 0}),n=H(t,"max",l,{passive:t.max===void 0});M(()=>s.value,async r=>{const d=Ie(r,t.max);d!==r&&(await K(),s.value=d)},{immediate:!0}),M(()=>t.max,r=>{const d=Re(t.max);d!==r&&(n.value=d)},{immediate:!0});const i=c(()=>Z(s.value)?"indeterminate":s.value===n.value?"complete":"loading");return je({modelValue:s,max:n,progressState:i}),(r,d)=>(x(),R(u(A),{"as-child":r.asChild,as:r.as,"aria-valuemax":u(n),"aria-valuemin":0,"aria-valuenow":I(u(s))?u(s):void 0,"aria-valuetext":r.getValueText?.(u(s),u(n)),"aria-label":r.getValueLabel(u(s),u(n)),role:"progressbar","data-state":i.value,"data-value":u(s)??void 0,"data-max":u(n)},{default:E(()=>[j(r.$slots,"default",{modelValue:u(s)})]),_:3},8,["as-child","as","aria-valuemax","aria-valuenow","aria-valuetext","aria-label","data-state","data-value","data-max"]))}}),Le=Be,De=W({__name:"ProgressIndicator",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(e){const a=e,t=Me();return Q(),(l,s)=>(x(),R(u(A),X(a,{"data-state":u(t).progressState.value,"data-value":u(t).modelValue?.value??void 0,"data-max":u(t).max.value}),{default:E(()=>[j(l.$slots,"default")]),_:3},16,["data-state","data-value","data-max"]))}}),Fe=De;function Ae(e){return(a,t)=>Oe(a,t,u(e))}function Oe(e,a,t){return ge(t,`messages.${e}`,e).replace(/\{(\w+)\}/g,(s,n)=>`${a?.[n]??`{${n}}`}`)}function Ue(e){const a=c(()=>u(e).name),t=c(()=>u(e).code),l=c(()=>u(e).dir),s=ne(e)?e:C(e);return{lang:a,code:t,dir:l,locale:s,t:Ae(e)}}function He(e){return re(e,{dir:"ltr"})}const G=He({name:"English",code:"en",messages:{alert:{close:"Close"},authForm:{hidePassword:"Hide password",showPassword:"Show password",submit:"Continue"},banner:{close:"Close"},calendar:{nextMonth:"Next month",nextYear:"Next year",prevMonth:"Previous month",prevYear:"Previous year"},carousel:{dots:"Choose slide to display",goto:"Go to slide {slide}",next:"Next",prev:"Prev"},chatPrompt:{placeholder:"Type your message here…"},chatPromptSubmit:{label:"Send prompt"},colorMode:{dark:"Dark",light:"Light",switchToDark:"Switch to dark mode",switchToLight:"Switch to light mode",system:"System"},commandPalette:{back:"Back",close:"Close",noData:"No data",noMatch:"No matching data",placeholder:"Type a command or search…"},contentSearch:{links:"Links",theme:"Theme"},contentSearchButton:{label:"Search…"},contentToc:{title:"On this page"},dashboardSearch:{theme:"Theme"},dashboardSearchButton:{label:"Search…"},dashboardSidebarCollapse:{collapse:"Collapse sidebar",expand:"Expand sidebar"},dashboardSidebarToggle:{close:"Close sidebar",open:"Open sidebar"},error:{clear:"Back to home"},fileUpload:{removeFile:"Remove {filename}"},header:{close:"Close menu",open:"Open menu"},inputMenu:{create:'Create "{label}"',noData:"No data",noMatch:"No matching data"},inputNumber:{decrement:"Decrement",increment:"Increment"},modal:{close:"Close"},pricingTable:{caption:"Pricing plan comparison"},prose:{codeCollapse:{closeText:"Collapse",name:"code",openText:"Expand"},collapsible:{closeText:"Hide",name:"properties",openText:"Show"},pre:{copy:"Copy code to clipboard"}},selectMenu:{create:'Create "{label}"',noData:"No data",noMatch:"No matching data",search:"Search…"},slideover:{close:"Close"},table:{noData:"No data"},toast:{close:"Close"}}}),Ge=Symbol.for("nuxt-ui.locale-context"),Je=e=>{const a=e||ie(J(Ge,G));return Ue(c(()=>a.value||G))},Ke=be(Je),We={slots:{root:"gap-2",base:"relative overflow-hidden rounded-full bg-accented",indicator:"rounded-full size-full transition-transform duration-200 ease-out",status:"flex text-dimmed transition-[width] duration-200",steps:"grid items-end",step:"truncate text-end row-start-1 col-start-1 transition-opacity"},variants:{animation:{carousel:"","carousel-inverse":"",swing:"",elastic:""},color:{primary:{indicator:"bg-primary",steps:"text-primary"},secondary:{indicator:"bg-secondary",steps:"text-secondary"},success:{indicator:"bg-success",steps:"text-success"},info:{indicator:"bg-info",steps:"text-info"},warning:{indicator:"bg-warning",steps:"text-warning"},error:{indicator:"bg-error",steps:"text-error"},neutral:{indicator:"bg-inverted",steps:"text-inverted"}},size:{"2xs":{status:"text-xs",steps:"text-xs"},xs:{status:"text-xs",steps:"text-xs"},sm:{status:"text-sm",steps:"text-sm"},md:{status:"text-sm",steps:"text-sm"},lg:{status:"text-sm",steps:"text-sm"},xl:{status:"text-base",steps:"text-base"},"2xl":{status:"text-base",steps:"text-base"}},step:{active:{step:"opacity-100"},first:{step:"opacity-100 text-muted"},other:{step:"opacity-0"},last:{step:""}},orientation:{horizontal:{root:"w-full flex flex-col",base:"w-full",status:"flex-row items-center justify-end min-w-fit"},vertical:{root:"h-full flex flex-row-reverse",base:"h-full",status:"flex-col justify-end min-h-fit"}},inverted:{true:{status:"self-end"}}},compoundVariants:[{inverted:!0,orientation:"horizontal",class:{step:"text-start",status:"flex-row-reverse"}},{inverted:!0,orientation:"vertical",class:{steps:"items-start",status:"flex-col-reverse"}},{orientation:"horizontal",size:"2xs",class:"h-px"},{orientation:"horizontal",size:"xs",class:"h-0.5"},{orientation:"horizontal",size:"sm",class:"h-1"},{orientation:"horizontal",size:"md",class:"h-2"},{orientation:"horizontal",size:"lg",class:"h-3"},{orientation:"horizontal",size:"xl",class:"h-4"},{orientation:"horizontal",size:"2xl",class:"h-5"},{orientation:"vertical",size:"2xs",class:"w-px"},{orientation:"vertical",size:"xs",class:"w-0.5"},{orientation:"vertical",size:"sm",class:"w-1"},{orientation:"vertical",size:"md",class:"w-2"},{orientation:"vertical",size:"lg",class:"w-3"},{orientation:"vertical",size:"xl",class:"w-4"},{orientation:"vertical",size:"2xl",class:"w-5"},{orientation:"horizontal",animation:"carousel",class:{indicator:"data-[state=indeterminate]:animate-[carousel_2s_ease-in-out_infinite] data-[state=indeterminate]:rtl:animate-[carousel-rtl_2s_ease-in-out_infinite]"}},{orientation:"vertical",animation:"carousel",class:{indicator:"data-[state=indeterminate]:animate-[carousel-vertical_2s_ease-in-out_infinite]"}},{orientation:"horizontal",animation:"carousel-inverse",class:{indicator:"data-[state=indeterminate]:animate-[carousel-inverse_2s_ease-in-out_infinite] data-[state=indeterminate]:rtl:animate-[carousel-inverse-rtl_2s_ease-in-out_infinite]"}},{orientation:"vertical",animation:"carousel-inverse",class:{indicator:"data-[state=indeterminate]:animate-[carousel-inverse-vertical_2s_ease-in-out_infinite]"}},{orientation:"horizontal",animation:"swing",class:{indicator:"data-[state=indeterminate]:animate-[swing_2s_ease-in-out_infinite]"}},{orientation:"vertical",animation:"swing",class:{indicator:"data-[state=indeterminate]:animate-[swing-vertical_2s_ease-in-out_infinite]"}},{orientation:"horizontal",animation:"elastic",class:{indicator:"data-[state=indeterminate]:animate-[elastic_2s_ease-in-out_infinite]"}},{orientation:"vertical",animation:"elastic",class:{indicator:"data-[state=indeterminate]:animate-[elastic-vertical_2s_ease-in-out_infinite]"}}],defaultVariants:{animation:"carousel",color:"primary",size:"md"}},Xe={__name:"UProgress",props:{as:{type:null,required:!1},max:{type:[Number,Array],required:!1},status:{type:Boolean,required:!1},inverted:{type:Boolean,required:!1,default:!1},size:{type:null,required:!1},color:{type:null,required:!1},orientation:{type:null,required:!1,default:"horizontal"},animation:{type:null,required:!1},class:{type:null,required:!1},ui:{type:null,required:!1},getValueLabel:{type:Function,required:!1},getValueText:{type:Function,required:!1},modelValue:{type:[Number,null],required:!1,default:null}},emits:["update:modelValue","update:max"],setup(e,{emit:a}){const t=e,l=a,s=le(),{dir:n}=Ke(),i=ue(),r=qe(ye(t,"getValueLabel","getValueText","modelValue"),l),d=c(()=>r.value.modelValue===null),N=c(()=>Array.isArray(t.max)),b=c(()=>{if(!(d.value||!t.max))return Array.isArray(t.max)?t.max.length-1:Number(t.max)}),m=c(()=>{if(!d.value)switch(!0){case r.value.modelValue<0:return 0;case r.value.modelValue>(b.value??100):return 100;default:return Math.round(r.value.modelValue/(b.value??100)*100)}}),p=c(()=>{if(m.value!==void 0)return t.orientation==="vertical"?{transform:`translateY(${t.inverted?"":"-"}${100-m.value}%)`}:n.value==="rtl"?{transform:`translateX(${t.inverted?"-":""}${100-m.value}%)`}:{transform:`translateX(${t.inverted?"":"-"}${100-m.value}%)`}}),v=c(()=>{const o=`${Math.max(m.value??0,0)}%`;return t.orientation==="vertical"?{height:o}:{width:o}});function w(o){return o===Number(t.modelValue)}function y(o){return o===0}function S(o){return o===b.value}function f(o){return o=Number(o),w(o)&&!y(o)?"active":y(o)&&w(o)?"first":S(o)&&w(o)?"last":"other"}const g=c(()=>U({extend:U(We),...i.ui?.progress||{}})({animation:t.animation,size:t.size,color:t.color,orientation:t.orientation,inverted:t.inverted}));return(o,q)=>(x(),R(u(A),{as:e.as,"data-orientation":e.orientation,class:$(g.value.root({class:[t.ui?.root,t.class]}))},{default:E(()=>[!d.value&&(e.status||s.status)?(x(),_("div",{key:0,class:$(g.value.status({class:t.ui?.status})),style:O(v.value)},[j(o.$slots,"status",{percent:m.value},()=>[L(z(m.value)+"% ",1)])],6)):B("",!0),k(u(Le),X(u(r),{max:b.value,class:g.value.base({class:t.ui?.base}),style:{transform:"translateZ(0)"}}),{default:E(()=>[k(u(Fe),{class:$(g.value.indicator({class:t.ui?.indicator})),style:O(p.value)},null,8,["class","style"])]),_:1},16,["max","class"]),N.value?(x(),_("div",{key:1,class:$(g.value.steps({class:t.ui?.steps}))},[(x(!0),_(D,null,Y(e.max,(P,V)=>(x(),_("div",{key:V,class:$(g.value.step({class:t.ui?.step,step:f(V)}))},[j(o.$slots,`step-${V}`,{step:P},()=>[L(z(P),1)])],2))),128))],2)):B("",!0)]),_:3},8,["as","data-orientation","class"]))}},Ye=ce("poll",()=>{const e=C([{title:"明朝",author:"駱以軍",votes:0,image:_e},{title:"無父之城",author:"陳雪",votes:0,image:we},{title:"鬼地方",author:"陳思宏",votes:0,image:Ve},{title:"殺手的戀愛相談",author:"謝東霖",votes:0,image:Ce},{title:"你不能再死一次",author:"陳雪",votes:0,image:Pe},{title:"親愛的共犯",author:"陳雪",votes:0,image:Se}]),a=c(()=>e.value.reduce((s,n)=>s+n.votes,0)),t=c(()=>{const s=a.value;return s===0?e.value.map(n=>({...n,percent:0})):e.value.map(n=>({...n,percent:Math.round(n.votes/s*100)}))});return{books:e,castVote:s=>{if(s){const n=e.value.find(i=>i.title===s);n&&n.votes++}},totalVotes:a,booksWithPercent:t}},{persist:{storage:de.localStorage(),key:"poll",pick:["books"]}}),Ze={class:"min-h-screen flex items-center justify-center bg-gray-200"},Qe={class:"w-md h-170 text-center m-auto relative bg-blue-300 rounded-sm shadow-2xl px-5 mt-5 overflow-y-auto scrollbar-hide"},et={class:"bg-white rounded-xl shadow-2xl p-9 mt-6"},tt={class:"mb-2 flex justify-between"},at=["for","onClick"],st={class:"flex justify-between items-center"},ot=["id","value"],nt={class:"text-gray-400 ml-1"},rt={class:"mt-1"},pt={__name:"poll",setup(e){const a=Ye(),{totalVotes:t,booksWithPercent:l}=me(a),s=C(!1),n=C(null),i=m=>{if(!m){alert("請選擇一本你喜歡的本月書籍");return}s.value=!0,a.castVote(m),n.value=null},r=C(!1),d=C(0),N=m=>{d.value=m,r.value=!0},b=()=>r.value=!1;return pe({title:"每月一書"}),(m,p)=>{const v=ee,w=fe("VueEasyLightbox"),y=Xe,S=ze;return x(),_("div",Ze,[h("div",null,[k(v),h("div",Qe,[p[3]||(p[3]=h("h1",{class:"text-3xl font-bold py-5 mt-5 text-white"},"每月一書",-1)),p[4]||(p[4]=h("hr",{class:"text-white"},null,-1)),h("div",et,[h("ul",null,[(x(!0),_(D,null,Y(u(l),(f,g)=>(x(),_("li",{key:g,class:"my-1 py-2"},[h("div",null,[h("div",tt,[h("label",{class:"text-xl font-bold",for:f.title,onClick:()=>N(g)},"《"+z(f.title)+"》",9,at),k(w,{visible:r.value,imgs:f.image,index:d.value,onHide:b},null,8,["visible","imgs","index"]),h("div",st,[s.value===!1?ve((x(),_("input",{key:0,id:f.title,"onUpdate:modelValue":p[0]||(p[0]=o=>n.value=o),name:"poll",type:"radio",value:f.title,class:"cursor-pointer"},null,8,ot)),[[he,n.value]]):(x(),_(D,{key:1},[h("h1",null,z(f.percent)+"%",1),h("h2",nt,"( "+z(f.votes)+" 票)",1)],64))])]),s.value===!0?(x(),R(y,{key:0,modelValue:f.percent,"onUpdate:modelValue":o=>f.percent=o},null,8,["modelValue","onUpdate:modelValue"])):B("",!0)])]))),128))]),h("h1",rt,"總票數："+z(u(t)),1),k(S,{size:"xl",class:"bg-blue-300 mt-3 px-5 text-white cursor-pointer font-bold",disabled:s.value===!0,onClick:p[1]||(p[1]=f=>i(n.value))},{default:E(()=>[...p[2]||(p[2]=[L("投票",-1)])]),_:1},8,["disabled"])])])])])}}};export{pt as default};
