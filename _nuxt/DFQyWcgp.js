import{_ as ee}from"./B1NIm_nv.js";import{i as J,p as te,g as A,r as S,e as E,n as K,f as d,h as ae,j as se,k as oe,l as W,m as R,o as v,w as N,q as M,s as u,v as X,x as ne,y as re,z as ie,A as le,B as ue,c as y,C as D,b as j,D as I,E as C,d as F,t as P,F as L,G as Y,H as ce,I as de,J as me,u as pe,a as f,K as fe,L as ve}from"#entry";import{u as he,P as O,g as xe,c as ge,r as be,t as U,_ as ye}from"./a68ZpU4H.js";import"./DhbN7xTE.js";import"./DlAUqK2U.js";import"./CyYrUV9L.js";function _e(e,a){const t=`${e}Context`,l=Symbol(t);return[i=>{const r=J(l,i);if(r||r===null)return r;throw new Error(`Injection \`${l.toString()}\` not found. Component must be used within ${Array.isArray(e)?`one of the following components: ${e.join(", ")}`:`\`${e}\``}`)},i=>(te(l,i),i)]}function Z(e){return e==null}typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const we=e=>typeof e<"u";function Ve(e){var a;const t=ae(e);return(a=t?.$el)!=null?a:t}function Pe(e){return JSON.parse(JSON.stringify(e))}function H(e,a,t,l={}){var s,o,i;const{clone:r=!1,passive:c=!1,eventName:z,deep:g=!1,defaultValue:h,shouldEmit:m}=l,p=A(),x=t||p?.emit||((s=p?.$emit)==null?void 0:s.bind(p))||((i=(o=p?.proxy)==null?void 0:o.$emit)==null?void 0:i.bind(p?.proxy));let w=z;a||(a="modelValue"),w=w||`update:${a.toString()}`;const k=n=>r?typeof r=="function"?r(n):Pe(n):n,T=()=>we(e[a])?k(e[a]):h,b=n=>{m?m(n)&&x(w,n):x(w,n)};if(c){const n=T(),q=S(n);let V=!1;return E(()=>e[a],_=>{V||(V=!0,q.value=k(_),K(()=>V=!1))}),E(q,_=>{!V&&(_!==e[a]||g)&&b(_)},{deep:g}),q}else return d({get(){return T()},set(n){b(n)}})}function Se(e){const a=A(),t=a?.type.emits,l={};return t?.length||console.warn(`No emitted event found. Please check component: ${a?.type.__name}`),t?.forEach(s=>{l[se(oe(s))]=(...o)=>e(s,...o)}),l}function Q(){const e=A(),a=S(),t=d(()=>["#text","#comment"].includes(a.value?.$el.nodeName)?a.value?.$el.nextElementSibling:Ve(a)),l=Object.assign({},e.exposed),s={};for(const i in e.props)Object.defineProperty(s,i,{enumerable:!0,configurable:!0,get:()=>e.props[i]});if(Object.keys(l).length>0)for(const i in l)Object.defineProperty(s,i,{enumerable:!0,configurable:!0,get:()=>l[i]});Object.defineProperty(s,"$el",{enumerable:!0,configurable:!0,get:()=>e.vnode.el}),e.exposed=s;function o(i){a.value=i,i&&(Object.defineProperty(s,"$el",{enumerable:!0,configurable:!0,get:()=>i instanceof Element?i:i.$el}),e.exposed=s)}return{forwardRef:o,currentRef:a,currentElement:t}}function ze(e,a){const t=he(e),l=a?Se(a):{};return d(()=>({...t.value,...l}))}const $=100,[Ce,Ne]=_e("ProgressRoot"),B=e=>typeof e=="number";function $e(e,a){return Z(e)||B(e)&&!Number.isNaN(e)&&e<=a&&e>=0?e:(console.error(`Invalid prop \`value\` of value \`${e}\` supplied to \`ProgressRoot\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${$} if no \`max\` prop is set)
  - \`null\`  or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`),null)}function ke(e){return B(e)&&!Number.isNaN(e)&&e>0?e:(console.error(`Invalid prop \`max\` of value \`${e}\` supplied to \`ProgressRoot\`. Only numbers greater than 0 are valid max values. Defaulting to \`${$}\`.`),$)}var Te=W({__name:"ProgressRoot",props:{modelValue:{type:[Number,null],required:!1},max:{type:Number,required:!1,default:$},getValueLabel:{type:Function,required:!1,default:(e,a)=>B(e)?`${Math.round(e/a*$)}%`:void 0},getValueText:{type:Function,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["update:modelValue","update:max"],setup(e,{emit:a}){const t=e,l=a;Q();const s=H(t,"modelValue",l,{passive:t.modelValue===void 0}),o=H(t,"max",l,{passive:t.max===void 0});E(()=>s.value,async r=>{const c=$e(r,t.max);c!==r&&(await K(),s.value=c)},{immediate:!0}),E(()=>t.max,r=>{const c=ke(t.max);c!==r&&(o.value=c)},{immediate:!0});const i=d(()=>Z(s.value)?"indeterminate":s.value===o.value?"complete":"loading");return Ne({modelValue:s,max:o,progressState:i}),(r,c)=>(v(),R(u(O),{"as-child":r.asChild,as:r.as,"aria-valuemax":u(o),"aria-valuemin":0,"aria-valuenow":B(u(s))?u(s):void 0,"aria-valuetext":r.getValueText?.(u(s),u(o)),"aria-label":r.getValueLabel(u(s),u(o)),role:"progressbar","data-state":i.value,"data-value":u(s)??void 0,"data-max":u(o)},{default:N(()=>[M(r.$slots,"default",{modelValue:u(s)})]),_:3},8,["as-child","as","aria-valuemax","aria-valuenow","aria-valuetext","aria-label","data-state","data-value","data-max"]))}}),qe=Te,Ee=W({__name:"ProgressIndicator",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(e){const a=e,t=Ce();return Q(),(l,s)=>(v(),R(u(O),X(a,{"data-state":u(t).progressState.value,"data-value":u(t).modelValue?.value??void 0,"data-max":u(t).max.value}),{default:N(()=>[M(l.$slots,"default")]),_:3},16,["data-state","data-value","data-max"]))}}),Me=Ee;function je(e){return(a,t)=>Be(a,t,u(e))}function Be(e,a,t){return xe(t,`messages.${e}`,e).replace(/\{(\w+)\}/g,(s,o)=>`${a?.[o]??`{${o}}`}`)}function Re(e){const a=d(()=>u(e).name),t=d(()=>u(e).code),l=d(()=>u(e).dir),s=ne(e)?e:S(e);return{lang:a,code:t,dir:l,locale:s,t:je(e)}}function De(e){return re(e,{dir:"ltr"})}const G=De({name:"English",code:"en",messages:{alert:{close:"Close"},authForm:{hidePassword:"Hide password",showPassword:"Show password",submit:"Continue"},banner:{close:"Close"},calendar:{nextMonth:"Next month",nextYear:"Next year",prevMonth:"Previous month",prevYear:"Previous year"},carousel:{dots:"Choose slide to display",goto:"Go to slide {slide}",next:"Next",prev:"Prev"},chatPrompt:{placeholder:"Type your message here…"},chatPromptSubmit:{label:"Send prompt"},colorMode:{dark:"Dark",light:"Light",switchToDark:"Switch to dark mode",switchToLight:"Switch to light mode",system:"System"},commandPalette:{back:"Back",close:"Close",noData:"No data",noMatch:"No matching data",placeholder:"Type a command or search…"},contentSearch:{links:"Links",theme:"Theme"},contentSearchButton:{label:"Search…"},contentToc:{title:"On this page"},dashboardSearch:{theme:"Theme"},dashboardSearchButton:{label:"Search…"},dashboardSidebarCollapse:{collapse:"Collapse sidebar",expand:"Expand sidebar"},dashboardSidebarToggle:{close:"Close sidebar",open:"Open sidebar"},error:{clear:"Back to home"},fileUpload:{removeFile:"Remove {filename}"},header:{close:"Close menu",open:"Open menu"},inputMenu:{create:'Create "{label}"',noData:"No data",noMatch:"No matching data"},inputNumber:{decrement:"Decrement",increment:"Increment"},modal:{close:"Close"},pricingTable:{caption:"Pricing plan comparison"},prose:{codeCollapse:{closeText:"Collapse",name:"code",openText:"Expand"},collapsible:{closeText:"Hide",name:"properties",openText:"Show"},pre:{copy:"Copy code to clipboard"}},selectMenu:{create:'Create "{label}"',noData:"No data",noMatch:"No matching data",search:"Search…"},slideover:{close:"Close"},table:{noData:"No data"},toast:{close:"Close"}}}),Fe=Symbol.for("nuxt-ui.locale-context"),Le=e=>{const a=e||ie(J(Fe,G));return Re(d(()=>a.value||G))},Ae=ge(Le),Oe={slots:{root:"gap-2",base:"relative overflow-hidden rounded-full bg-accented",indicator:"rounded-full size-full transition-transform duration-200 ease-out",status:"flex text-dimmed transition-[width] duration-200",steps:"grid items-end",step:"truncate text-end row-start-1 col-start-1 transition-opacity"},variants:{animation:{carousel:"","carousel-inverse":"",swing:"",elastic:""},color:{primary:{indicator:"bg-primary",steps:"text-primary"},secondary:{indicator:"bg-secondary",steps:"text-secondary"},success:{indicator:"bg-success",steps:"text-success"},info:{indicator:"bg-info",steps:"text-info"},warning:{indicator:"bg-warning",steps:"text-warning"},error:{indicator:"bg-error",steps:"text-error"},neutral:{indicator:"bg-inverted",steps:"text-inverted"}},size:{"2xs":{status:"text-xs",steps:"text-xs"},xs:{status:"text-xs",steps:"text-xs"},sm:{status:"text-sm",steps:"text-sm"},md:{status:"text-sm",steps:"text-sm"},lg:{status:"text-sm",steps:"text-sm"},xl:{status:"text-base",steps:"text-base"},"2xl":{status:"text-base",steps:"text-base"}},step:{active:{step:"opacity-100"},first:{step:"opacity-100 text-muted"},other:{step:"opacity-0"},last:{step:""}},orientation:{horizontal:{root:"w-full flex flex-col",base:"w-full",status:"flex-row items-center justify-end min-w-fit"},vertical:{root:"h-full flex flex-row-reverse",base:"h-full",status:"flex-col justify-end min-h-fit"}},inverted:{true:{status:"self-end"}}},compoundVariants:[{inverted:!0,orientation:"horizontal",class:{step:"text-start",status:"flex-row-reverse"}},{inverted:!0,orientation:"vertical",class:{steps:"items-start",status:"flex-col-reverse"}},{orientation:"horizontal",size:"2xs",class:"h-px"},{orientation:"horizontal",size:"xs",class:"h-0.5"},{orientation:"horizontal",size:"sm",class:"h-1"},{orientation:"horizontal",size:"md",class:"h-2"},{orientation:"horizontal",size:"lg",class:"h-3"},{orientation:"horizontal",size:"xl",class:"h-4"},{orientation:"horizontal",size:"2xl",class:"h-5"},{orientation:"vertical",size:"2xs",class:"w-px"},{orientation:"vertical",size:"xs",class:"w-0.5"},{orientation:"vertical",size:"sm",class:"w-1"},{orientation:"vertical",size:"md",class:"w-2"},{orientation:"vertical",size:"lg",class:"w-3"},{orientation:"vertical",size:"xl",class:"w-4"},{orientation:"vertical",size:"2xl",class:"w-5"},{orientation:"horizontal",animation:"carousel",class:{indicator:"data-[state=indeterminate]:animate-[carousel_2s_ease-in-out_infinite] data-[state=indeterminate]:rtl:animate-[carousel-rtl_2s_ease-in-out_infinite]"}},{orientation:"vertical",animation:"carousel",class:{indicator:"data-[state=indeterminate]:animate-[carousel-vertical_2s_ease-in-out_infinite]"}},{orientation:"horizontal",animation:"carousel-inverse",class:{indicator:"data-[state=indeterminate]:animate-[carousel-inverse_2s_ease-in-out_infinite] data-[state=indeterminate]:rtl:animate-[carousel-inverse-rtl_2s_ease-in-out_infinite]"}},{orientation:"vertical",animation:"carousel-inverse",class:{indicator:"data-[state=indeterminate]:animate-[carousel-inverse-vertical_2s_ease-in-out_infinite]"}},{orientation:"horizontal",animation:"swing",class:{indicator:"data-[state=indeterminate]:animate-[swing_2s_ease-in-out_infinite]"}},{orientation:"vertical",animation:"swing",class:{indicator:"data-[state=indeterminate]:animate-[swing-vertical_2s_ease-in-out_infinite]"}},{orientation:"horizontal",animation:"elastic",class:{indicator:"data-[state=indeterminate]:animate-[elastic_2s_ease-in-out_infinite]"}},{orientation:"vertical",animation:"elastic",class:{indicator:"data-[state=indeterminate]:animate-[elastic-vertical_2s_ease-in-out_infinite]"}}],defaultVariants:{animation:"carousel",color:"primary",size:"md"}},Ie={__name:"UProgress",props:{as:{type:null,required:!1},max:{type:[Number,Array],required:!1},status:{type:Boolean,required:!1},inverted:{type:Boolean,required:!1,default:!1},size:{type:null,required:!1},color:{type:null,required:!1},orientation:{type:null,required:!1,default:"horizontal"},animation:{type:null,required:!1},class:{type:null,required:!1},ui:{type:null,required:!1},getValueLabel:{type:Function,required:!1},getValueText:{type:Function,required:!1},modelValue:{type:[Number,null],required:!1,default:null}},emits:["update:modelValue","update:max"],setup(e,{emit:a}){const t=e,l=a,s=le(),{dir:o}=Ae(),i=ue(),r=ze(be(t,"getValueLabel","getValueText","modelValue"),l),c=d(()=>r.value.modelValue===null),z=d(()=>Array.isArray(t.max)),g=d(()=>{if(!(c.value||!t.max))return Array.isArray(t.max)?t.max.length-1:Number(t.max)}),h=d(()=>{if(!c.value)switch(!0){case r.value.modelValue<0:return 0;case r.value.modelValue>(g.value??100):return 100;default:return Math.round(r.value.modelValue/(g.value??100)*100)}}),m=d(()=>{if(h.value!==void 0)return t.orientation==="vertical"?{transform:`translateY(${t.inverted?"":"-"}${100-h.value}%)`}:o.value==="rtl"?{transform:`translateX(${t.inverted?"-":""}${100-h.value}%)`}:{transform:`translateX(${t.inverted?"":"-"}${100-h.value}%)`}}),p=d(()=>{const n=`${Math.max(h.value??0,0)}%`;return t.orientation==="vertical"?{height:n}:{width:n}});function x(n){return n===Number(t.modelValue)}function w(n){return n===0}function k(n){return n===g.value}function T(n){return n=Number(n),x(n)&&!w(n)?"active":w(n)&&x(n)?"first":k(n)&&x(n)?"last":"other"}const b=d(()=>U({extend:U(Oe),...i.ui?.progress||{}})({animation:t.animation,size:t.size,color:t.color,orientation:t.orientation,inverted:t.inverted}));return(n,q)=>(v(),R(u(O),{as:e.as,"data-orientation":e.orientation,class:C(b.value.root({class:[t.ui?.root,t.class]}))},{default:N(()=>[!c.value&&(e.status||s.status)?(v(),y("div",{key:0,class:C(b.value.status({class:t.ui?.status})),style:I(p.value)},[M(n.$slots,"status",{percent:h.value},()=>[F(P(h.value)+"% ",1)])],6)):D("",!0),j(u(qe),X(u(r),{max:g.value,class:b.value.base({class:t.ui?.base}),style:{transform:"translateZ(0)"}}),{default:N(()=>[j(u(Me),{class:C(b.value.indicator({class:t.ui?.indicator})),style:I(m.value)},null,8,["class","style"])]),_:1},16,["max","class"]),z.value?(v(),y("div",{key:1,class:C(b.value.steps({class:t.ui?.steps}))},[(v(!0),y(L,null,Y(e.max,(V,_)=>(v(),y("div",{key:_,class:C(b.value.step({class:t.ui?.step,step:T(_)}))},[M(n.$slots,`step-${_}`,{step:V},()=>[F(P(V),1)])],2))),128))],2)):D("",!0)]),_:3},8,["as","data-orientation","class"]))}},Ue=ce("poll",()=>{const e=S([{title:"明朝",author:"駱以軍",votes:0},{title:"無父之城",author:"陳雪",votes:0},{title:"鬼地方",author:"陳思宏",votes:0},{title:"殺手的戀愛相談",author:"謝東霖",votes:0},{title:"你不能再死一次",author:"陳雪",votes:0},{title:"親愛的共犯",author:"陳雪",votes:0}]),a=d(()=>e.value.reduce((s,o)=>s+o.votes,0)),t=d(()=>{const s=a.value;return s===0?e.value.map(o=>({...o,percent:0})):e.value.map(o=>({...o,percent:Math.round(o.votes/s*100)}))});return{books:e,castVote:s=>{if(s){const o=e.value.find(i=>i.title===s);o&&o.votes++}},totalVotes:a,booksWithPercent:t}},{persist:{storage:de.localStorage(),key:"poll",pick:["books"]}}),He={class:"min-h-screen flex items-center justify-center bg-gray-200"},Ge={class:"w-md h-170 text-center m-auto relative bg-blue-300 rounded-sm shadow-2xl px-5 mt-5 overflow-y-auto scrollbar-hide"},Je={class:"bg-white rounded-xl shadow-2xl p-9 mt-6"},Ke={class:"mb-2 flex justify-between"},We=["for"],Xe={class:"flex justify-between items-center"},Ye=["id","value"],Ze={class:"text-gray-400 ml-1"},Qe={class:"mt-1"},rt={__name:"poll",setup(e){const a=Ue(),{totalVotes:t,booksWithPercent:l}=me(a),s=S(!1),o=S(null),i=r=>{if(!r){alert("請選擇一本你喜歡的本月書籍");return}s.value=!0,a.castVote(r),o.value=null};return pe({title:"每月一書"}),(r,c)=>{const z=ee,g=Ie,h=ye;return v(),y("div",He,[f("div",null,[j(z),f("div",Ge,[c[3]||(c[3]=f("h1",{class:"text-3xl font-bold py-5 mt-5 text-white"},"每月一書",-1)),c[4]||(c[4]=f("hr",{class:"text-white"},null,-1)),f("div",Je,[f("ul",null,[(v(!0),y(L,null,Y(u(l),(m,p)=>(v(),y("li",{key:p,class:"my-1 py-2"},[f("div",null,[f("div",Ke,[f("label",{class:"text-xl font-bold",for:m.title},"《"+P(m.title)+"》",9,We),f("div",Xe,[s.value===!1?fe((v(),y("input",{key:0,id:m.title,"onUpdate:modelValue":c[0]||(c[0]=x=>o.value=x),name:"poll",type:"radio",value:m.title},null,8,Ye)),[[ve,o.value]]):(v(),y(L,{key:1},[f("h1",null,P(m.percent)+"%",1),f("h2",Ze,"( "+P(m.votes)+" 票)",1)],64))])]),s.value===!0?(v(),R(g,{key:0,modelValue:m.percent,"onUpdate:modelValue":x=>m.percent=x},null,8,["modelValue","onUpdate:modelValue"])):D("",!0)])]))),128))]),f("h1",Qe,"總票數："+P(u(t)),1),j(h,{size:"xl",class:"bg-blue-300 mt-3 px-5 text-white cursor-pointer font-bold",disabled:s.value===!0,onClick:c[1]||(c[1]=m=>i(o.value))},{default:N(()=>[...c[2]||(c[2]=[F("投票",-1)])]),_:1},8,["disabled"])])])])])}}};export{rt as default};
