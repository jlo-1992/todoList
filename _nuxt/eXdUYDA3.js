import{_ as $}from"./DLfX0br8.js";import N from"./Cj617YEl.js";import{e as S,r as x,s as j,f as D,u as E,c,a as e,b as v,w as y,g as z,t as b,F as T,h as B,i as w,j as M,k as U,l as L,v as F,n as K,o as p,d as k,m as H}from"#entry";const R=S("todo",()=>{const n=x([]);let d=1;return{todoList:n,id:d,addItem:s=>{n.value.push({id:d++,done:!1,text:s})},deleteItem:s=>{const o=n.value.findIndex(u=>u.id===s);o>-1&&n.value.splice(o,1)},doneItem:s=>{const o=n.value.find(u=>u.id===s);o&&(o.done=!o.done)},saveEdit:s=>{const o=n.value.findIndex(u=>u.id===s.id);o>-1&&(n.value[o].text=s.text)}}},{persist:{key:"todoList",pick:["todoList"]}}),q={class:"min-h-screen flex items-center justify-center bg-gray-200"},A={class:"grid grid-cols-3 -m-1.5"},G={class:"bg-blue-300 rounded-md px-3 py-1 m-2 cursor-pointer hover:bg-blue-200 text-white font-bold"},J={class:"bg-blue-300 rounded-md px-3 py-1 m-2 cursor-pointer hover:bg-blue-200 text-white font-bold"},O={class:"bg-blue-300 rounded-md px-3 py-1 m-2 cursor-pointer hover:bg-blue-200 text-white font-bold"},P={class:"w-md h-170 text-center m-auto relative bg-white rounded-sm shadow-2xl px-5 mt-5 overflow-y-auto scrollbar-hide"},Q={class:"mt-2 text-right mr-3 text-gray-400"},W={class:"flex items-center justify-center ml-2"},X=["id","onUpdate:modelValue","onClick"],Y=["for"],Z={key:0,class:"text-xl ml-3 text-gray-300"},ee={key:1,class:"text-xl ml-3"},te={class:"hover:bg-gray-200 hover:text-white cursor-pointer rounded-full p-2 px-3"},oe={class:"hover:bg-red-200 hover:text-white cursor-pointer rounded-full p-2 px-3 m-auto"},se={key:1,class:"absolute p-7 h-45 w-80 rounded-md shadow-2xl z-200 bg-white top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2"},le={class:"font-bold text-2xl text-left"},ne=["placeholder"],de={class:"text-right"},ae=["value"],ce={__name:"index",setup(n){const d=R(),{todoList:f}=j(d),I=D(()=>f.value.filter(i=>!i.done)),a=x(null),r=x(""),s=x(null),o=x({open:!1}),u=(i,t=null)=>{o.value.open=!0,a.value=i,i==="編輯"&&t?(r.value=t.text,s.value=t):(s.value=null,r.value="")},h=()=>{o.value.open=!1,a.value=null,s.value=null,r.value=""},C=()=>{if(a.value==="編輯"){const i={id:s.value.id,text:r.value};d.saveEdit(i)}else a.value==="新增"&&d.addItem(r.value);h()};return E({title:"首頁"}),(i,t)=>{const _=$,V=N;return p(),c("div",q,[e("div",null,[e("div",A,[e("button",G,[v(_,{to:"/"},{default:y(()=>[...t[4]||(t[4]=[k("代辦清單",-1)])]),_:1})]),e("button",J,[v(_,{to:"/products"},{default:y(()=>[...t[5]||(t[5]=[k("產品頁面",-1)])]),_:1})]),e("button",O,[v(_,{to:"/products"},{default:y(()=>[...t[6]||(t[6]=[k("投票頁面",-1)])]),_:1})])]),e("div",P,[o.value.open?(p(),c("div",{key:0,class:"mask rounded-sm",onClick:t[0]||(t[0]=l=>h())})):z("",!0),t[7]||(t[7]=e("h1",{class:"text-3xl font-bold py-5 mt-5"},"代辦清單",-1)),t[8]||(t[8]=e("hr",null,null,-1)),e("p",Q," 共有 "+b(I.value.length)+" 個代辦事項 ",1),e("ul",null,[(p(!0),c(T,null,B(w(f),(l,g)=>(p(),c("li",{key:g,class:"flex justify-between mt-5 items-center"},[e("div",W,[L(e("input",{id:"todo"+g,"onUpdate:modelValue":m=>l.done=m,type:"checkbox",class:"size-5 cursor-pointer",onClick:m=>w(d).doneItem(l.id)},null,8,X),[[H,l.done]]),e("label",{for:"todo"+g},[l.done?(p(),c("del",Z,b(l.text),1)):(p(),c("span",ee,b(l.text),1))],8,Y)]),e("div",null,[e("button",te,[v(V,{name:"tabler:pencil",class:"size-6 mt-1",onClick:m=>u("編輯",l)},null,8,["onClick"])]),e("button",oe,[v(V,{name:"tabler:trash",class:"size-6 mt-1",onClick:m=>w(d).deleteItem(l.id)},null,8,["onClick"])])])]))),128))]),o.value.open?(p(),c("div",se,[e("h1",le,b(a.value)+"代辦事項",1),e("form",{onSubmit:U(C,["prevent"]),onKeydown:M(C,["enter"])},[L(e("input",{"onUpdate:modelValue":t[1]||(t[1]=l=>r.value=l),type:"text",class:"border-2 border-gray-300 my-2 w-65 p-2 rounded-sm text-left",placeholder:a.value==="編輯"?s.value.text:"請輸入代辦事項"},null,8,ne),[[F,r.value]]),e("div",de,[e("button",{class:"rounded-md px-3 py-1 cursor-pointer hover:bg-gray-200 hover:text-white text-gray-200 font-bold",onClick:t[2]||(t[2]=l=>h())}," 關閉 "),e("input",{type:"submit",value:a.value==="編輯"?"編輯":"新增",class:"rounded-md px-3 py-1 cursor-pointer hover:bg-blue-200 hover:text-white text-blue-200 font-bold"},null,8,ae)])],32)])):z("",!0)]),e("button",{class:K(["absolute text-2xl rounded-full bg-blue-300 cursor-pointer text-white font-bold bottom-23 left-1/2 -translate-x-1/2 p-3 px-5 shadow-2xl z-200",o.value.open?"bg-green-400":"bg-blue-300"]),onClick:t[3]||(t[3]=l=>u("新增"))}," ＋新增 ",2)])])}}};export{ce as default};
