import{_ as U}from"./DsNokSy5.js";import j from"./BlvU48Lp.js";import{e as D,r as k,s as K,c as d,a as o,b as x,w as f,f as C,t as g,g as $,F as T,h as B,i as h,j as M,k as y,v as V,n as F,o as r,d as _,l as R}from"#entry";const q=D("todo",()=>{const u=k([]);let i=1;return{todoList:u,id:i,addItem:s=>{u.value.push({id:i++,done:!1,text:s,edit:!1,input:s})},deleteItem:s=>{const l=u.value.findIndex(c=>c.id===s);l>-1&&u.value.splice(l,1)},doneItem:s=>{const l=u.value.find(c=>c.id===s);l&&(l.done=!l.done)},saveEdit:s=>{s.text=s.input,s.edit=!1}}},{persist:{key:"todoList",pick:["todoList"]}}),A={class:"min-h-screen flex items-center justify-center bg-gray-200"},G={class:"grid grid-cols-3 -m-1.5"},H={class:"bg-blue-300 rounded-md px-3 py-1 m-2 cursor-pointer hover:bg-blue-200 text-white font-bold"},J={class:"bg-blue-300 rounded-md px-3 py-1 m-2 cursor-pointer hover:bg-blue-200 text-white font-bold"},O={class:"bg-blue-300 rounded-md px-3 py-1 m-2 cursor-pointer hover:bg-blue-200 text-white font-bold"},P={class:"w-md h-170 text-center m-auto relative bg-white rounded-sm shadow-2xl px-5 mt-5 overflow-y-auto scrollbar-hide"},Q={class:"mt-2 text-right mr-3 text-gray-400"},W={class:"flex items-center justify-center ml-2"},X=["id","onUpdate:modelValue","onClick"],Y=["onUpdate:modelValue","onKeydown"],Z=["for"],tt={key:0,class:"text-xl ml-3 text-gray-300"},et={key:1,class:"text-xl ml-3"},ot={class:"hover:bg-gray-200 hover:text-white cursor-pointer rounded-full p-2 px-3"},st={class:"hover:bg-red-200 hover:text-white cursor-pointer rounded-full p-2 px-3 m-auto"},nt={key:1,class:"absolute p-7 h-45 w-80 rounded-md shadow-2xl z-200 bg-white top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2"},lt={class:"text-right"},E="check",at={__name:"index",setup(u){const i=q(),{todoList:v}=K(i),p=k({open:!1}),w=()=>{p.value.open=!0},b=()=>{p.value.open=!1},s=k(""),l=n=>{i.addItem(n),s.value="",b()},c=n=>{i.deleteItem(n)},z=n=>{i.doneItem(n)},L=n=>{n.edit=!n.edit},N=n=>{i.saveEdit(n)},S=n=>{n.input=n.text,n.edit=!1};return(n,t)=>{const m=U,I=j;return r(),d("div",A,[o("div",null,[o("div",G,[o("button",H,[x(m,{to:"/"},{default:f(()=>[...t[6]||(t[6]=[_("代辦清單",-1)])]),_:1})]),o("button",J,[x(m,{to:"/products"},{default:f(()=>[...t[7]||(t[7]=[_("產品頁面",-1)])]),_:1})]),o("button",O,[x(m,{to:"/products"},{default:f(()=>[...t[8]||(t[8]=[_("投票頁面",-1)])]),_:1})])]),o("div",P,[p.value.open?(r(),d("div",{key:0,class:"mask rounded-sm",onClick:t[0]||(t[0]=e=>b())})):C("",!0),t[11]||(t[11]=o("h1",{class:"text-3xl font-bold py-5 mt-5"},"代辦清單",-1)),t[12]||(t[12]=o("hr",null,null,-1)),o("p",Q," 共有 "+g($(v).length)+" 個代辦事項 ",1),o("ul",null,[(r(!0),d(T,null,B($(v),e=>(r(),d("li",{key:e.id,class:"flex justify-between mt-5 items-center"},[o("div",W,[y(o("input",{id:E+e.id,"onUpdate:modelValue":a=>e.done=a,type:"checkbox",class:"size-5 cursor-pointer",onClick:a=>z(e.id)},null,8,X),[[R,e.done]]),e.edit?y((r(),d("input",{key:0,"onUpdate:modelValue":a=>e.input=a,type:"text",class:"ml-3 p-1",onKeydown:[h(a=>N(e),["enter"]),h(a=>S(e),["esc"])]},null,40,Y)),[[V,e.input]]):(r(),d("label",{key:1,for:E+e.id},[e.done?(r(),d("del",tt,g(e.text),1)):(r(),d("span",et,g(e.text),1))],8,Z))]),o("div",null,[o("button",ot,[x(I,{name:"tabler:pencil",class:"size-6 mt-1",onClick:a=>L(e)},null,8,["onClick"])]),o("button",st,[x(I,{name:"tabler:trash",class:"size-6 mt-1",onClick:a=>c(e.id)},null,8,["onClick"])])])]))),128))]),p.value.open?(r(),d("div",nt,[t[10]||(t[10]=o("h1",{class:"font-bold text-2xl text-left"},"新增代辦事項",-1)),o("form",{onSubmit:t[3]||(t[3]=M(e=>l(s.value),["prevent"])),onKeydown:t[4]||(t[4]=h(e=>l(s.value),["enter"]))},[y(o("input",{"onUpdate:modelValue":t[1]||(t[1]=e=>s.value=e),type:"text",class:"border-2 border-gray-300 my-2 w-65 p-2 rounded-sm text-left",placeholder:"請輸入代辦事項"},null,512),[[V,s.value]]),o("div",lt,[o("button",{class:"rounded-md px-3 py-1 cursor-pointer hover:bg-gray-200 hover:text-white text-gray-200 font-bold",onClick:t[2]||(t[2]=e=>b())}," 關閉 "),t[9]||(t[9]=o("input",{type:"submit",value:"新增",class:"rounded-md px-3 py-1 cursor-pointer hover:bg-blue-200 hover:text-white text-blue-200 font-bold"},null,-1))])],32)])):C("",!0)]),o("button",{class:F(["absolute text-2xl rounded-full bg-blue-300 cursor-pointer text-white font-bold bottom-23 left-1/2 -translate-x-1/2 p-3 px-5 shadow-2xl z-200",p.value.open?"bg-green-400":"bg-blue-300"]),onClick:t[5]||(t[5]=e=>w())}," ＋新增 ",2)])])}}};export{at as default};
