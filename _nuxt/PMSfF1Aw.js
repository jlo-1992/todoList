import{_ as N}from"./OAwfAiIQ.js";import S from"./Bzj360GZ.js";import{e as U,r as k,s as j,f as D,u as K,c as d,a as o,b as x,w as f,g as $,t as g,F as T,h as B,i as v,j as h,k as M,l as y,v as V,n as F,o as r,d as _,m as H}from"#entry";const R=U("todo",()=>{const u=k([]);let a=1;return{todoList:u,id:a,addItem:s=>{u.value.push({id:a++,done:!1,text:s,edit:!1,input:s})},deleteItem:s=>{const n=u.value.findIndex(c=>c.id===s);n>-1&&u.value.splice(n,1)},doneItem:s=>{const n=u.value.find(c=>c.id===s);n&&(n.done=!n.done)},saveEdit:s=>{s.text=s.input,s.edit=!1}}},{persist:{key:"todoList",pick:["todoList"]}}),q={class:"min-h-screen flex items-center justify-center bg-gray-200"},A={class:"grid grid-cols-3 -m-1.5"},G={class:"bg-blue-300 rounded-md px-3 py-1 m-2 cursor-pointer hover:bg-blue-200 text-white font-bold"},J={class:"bg-blue-300 rounded-md px-3 py-1 m-2 cursor-pointer hover:bg-blue-200 text-white font-bold"},O={class:"bg-blue-300 rounded-md px-3 py-1 m-2 cursor-pointer hover:bg-blue-200 text-white font-bold"},P={class:"w-md h-170 text-center m-auto relative bg-white rounded-sm shadow-2xl px-5 mt-5 overflow-y-auto scrollbar-hide"},Q={class:"mt-2 text-right mr-3 text-gray-400"},W={class:"flex items-center justify-center ml-2"},X=["id","onUpdate:modelValue","onClick"],Y=["onUpdate:modelValue","onKeydown"],Z=["for"],ee={key:0,class:"text-xl ml-3 text-gray-300"},te={key:1,class:"text-xl ml-3"},oe={class:"hover:bg-gray-200 hover:text-white cursor-pointer rounded-full p-2 px-3"},se={class:"hover:bg-red-200 hover:text-white cursor-pointer rounded-full p-2 px-3 m-auto"},ne={key:1,class:"absolute p-7 h-45 w-80 rounded-md shadow-2xl z-200 bg-white top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2"},le={class:"text-right"},z="check",ie={__name:"index",setup(u){const a=R(),{todoList:b}=j(a),w=D(()=>b.value.filter(l=>!l.done)),p=k({open:!1}),I=()=>{p.value.open=!0},s=()=>{p.value.open=!1},n=k(""),c=l=>{a.addItem(l),n.value="",s()},E=l=>{l.edit=!l.edit},L=l=>{l.input=l.text,l.edit=!1};return K({title:"首頁"}),(l,e)=>{const m=N,C=S;return r(),d("div",q,[o("div",null,[o("div",A,[o("button",G,[x(m,{to:"/"},{default:f(()=>[...e[6]||(e[6]=[_("代辦清單",-1)])]),_:1})]),o("button",J,[x(m,{to:"/products"},{default:f(()=>[...e[7]||(e[7]=[_("產品頁面",-1)])]),_:1})]),o("button",O,[x(m,{to:"/products"},{default:f(()=>[...e[8]||(e[8]=[_("投票頁面",-1)])]),_:1})])]),o("div",P,[p.value.open?(r(),d("div",{key:0,class:"mask rounded-sm",onClick:e[0]||(e[0]=t=>s())})):$("",!0),e[11]||(e[11]=o("h1",{class:"text-3xl font-bold py-5 mt-5"},"代辦清單",-1)),e[12]||(e[12]=o("hr",null,null,-1)),o("p",Q," 共有 "+g(w.value.length)+" 個代辦事項 ",1),o("ul",null,[(r(!0),d(T,null,B(v(b),t=>(r(),d("li",{key:t.id,class:"flex justify-between mt-5 items-center"},[o("div",W,[y(o("input",{id:z+t.id,"onUpdate:modelValue":i=>t.done=i,type:"checkbox",class:"size-5 cursor-pointer",onClick:i=>v(a).doneItem(t.id)},null,8,X),[[H,t.done]]),t.edit?y((r(),d("input",{key:0,"onUpdate:modelValue":i=>t.input=i,type:"text",class:"ml-3 p-1",onKeydown:[h(i=>v(a).saveEdit(t),["enter"]),h(i=>L(t),["esc"])]},null,40,Y)),[[V,t.input]]):(r(),d("label",{key:1,for:z+t.id},[t.done?(r(),d("del",ee,g(t.text),1)):(r(),d("span",te,g(t.text),1))],8,Z))]),o("div",null,[o("button",oe,[x(C,{name:"tabler:pencil",class:"size-6 mt-1",onClick:i=>E(t)},null,8,["onClick"])]),o("button",se,[x(C,{name:"tabler:trash",class:"size-6 mt-1",onClick:i=>v(a).deleteItem(t.id)},null,8,["onClick"])])])]))),128))]),p.value.open?(r(),d("div",ne,[e[10]||(e[10]=o("h1",{class:"font-bold text-2xl text-left"},"新增代辦事項",-1)),o("form",{onSubmit:e[3]||(e[3]=M(t=>c(n.value),["prevent"])),onKeydown:e[4]||(e[4]=h(t=>c(n.value),["enter"]))},[y(o("input",{"onUpdate:modelValue":e[1]||(e[1]=t=>n.value=t),type:"text",class:"border-2 border-gray-300 my-2 w-65 p-2 rounded-sm text-left",placeholder:"請輸入代辦事項"},null,512),[[V,n.value]]),o("div",le,[o("button",{class:"rounded-md px-3 py-1 cursor-pointer hover:bg-gray-200 hover:text-white text-gray-200 font-bold",onClick:e[2]||(e[2]=t=>s())}," 關閉 "),e[9]||(e[9]=o("input",{type:"submit",value:"新增",class:"rounded-md px-3 py-1 cursor-pointer hover:bg-blue-200 hover:text-white text-blue-200 font-bold"},null,-1))])],32)])):$("",!0)]),o("button",{class:F(["absolute text-2xl rounded-full bg-blue-300 cursor-pointer text-white font-bold bottom-23 left-1/2 -translate-x-1/2 p-3 px-5 shadow-2xl z-200",p.value.open?"bg-green-400":"bg-blue-300"]),onClick:e[5]||(e[5]=t=>I())}," ＋新增 ",2)])])}}};export{ie as default};
