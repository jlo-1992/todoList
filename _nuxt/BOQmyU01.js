import{_ as B}from"./Bd9eKNx1.js";import z from"./Ceu9FzwI.js";import{J as S,f as V,r as p,N as $,u as D,c as a,a as e,b as h,C as k,t as v,F as M,G as N,s as b,O as j,P as E,L as w,Q as L,E as T,o as r,R as U}from"#entry";import{u as F,a as K}from"./KSiBSXLB.js";import"./BBc5Q86o.js";import"./DlAUqK2U.js";const P={class:"min-h-screen flex items-center justify-center bg-gray-200"},R={class:"w-md h-170 text-center m-auto relative bg-gray-400 rounded-md shadow-2xl px-5 mt-5 overflow-y-auto scrollbar-hide"},G={class:"mt-2 text-right mr-3 text-white mb-3"},H={class:"bg-white pt-1 px-3 h-125 rounded-xl"},J={class:"flex items-center justify-center ml-2"},O=["id","onUpdate:modelValue","onClick"],Q=["for"],q={key:0,class:"text-xl ml-3 text-gray-300"},A={key:1,class:"text-xl ml-3 text-black"},W={class:"hover:bg-gray-200 hover:text-white cursor-pointer rounded-full p-2 px-3"},X={class:"hover:bg-red-200 hover:text-white cursor-pointer rounded-full p-2 px-3 m-auto"},Y={key:1,class:"absolute p-7 h-45 w-80 rounded-md shadow-2xl z-200 bg-white top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2"},Z={class:"font-bold text-2xl text-left"},ee=["placeholder"],te={class:"text-right"},oe=["value"],ie={__name:"index",setup(se){const d=F(),x=K(),{todoList:_}=S(d),C=V(()=>_.value.filter(n=>!n.done)),s=p(null),l=p(""),u=p(null),i=p({open:!1}),f=(n,t=null)=>{i.value.open=!0,s.value=n,n==="編輯"&&t?(l.value=t.text,u.value=t):(u.value=null,l.value="")},m=()=>{i.value.open=!1,s.value=null,u.value=null,l.value=""},g=()=>{if(s.value==="編輯"){const n={id:u.value.id,text:l.value};d.saveEdit(n)}else s.value==="新增"&&d.addItem(l.value);m()};return $(()=>{x.chosenBook&&(d.addItem(x.chosenBook),x.chosenBook=null)}),D({title:"待讀"}),(n,t)=>{const I=B,y=z;return r(),a("div",P,[e("div",null,[h(I),e("div",R,[i.value.open?(r(),a("div",{key:0,class:"mask rounded-sm",onClick:t[0]||(t[0]=o=>m())})):k("",!0),t[4]||(t[4]=e("h1",{class:"text-3xl font-bold py-5 mt-5 text-white"},"我的書櫃",-1)),t[5]||(t[5]=e("hr",{class:"text-white"},null,-1)),e("p",G," 共有 "+v(C.value.length)+" 本待讀書籍 ",1),e("div",H,[e("ul",null,[(r(!0),a(M,null,N(b(_),o=>(r(),a("li",{key:o.id,class:"flex justify-between mt-5 items-center"},[e("div",J,[w(e("input",{id:"check"+o.id,"onUpdate:modelValue":c=>o.done=c,type:"checkbox",class:"size-5 cursor-pointer",onClick:c=>b(d).doneItem(o.id)},null,8,O),[[U,o.done]]),e("label",{for:"check"+o.id,class:"cursor-pointer"},[o.done?(r(),a("del",q,"《"+v(o.text)+"》",1)):(r(),a("span",A,"《"+v(o.text)+"》",1))],8,Q)]),e("div",null,[e("button",W,[h(y,{name:"tabler:pencil",class:"size-6 mt-1",onClick:c=>f("編輯",o)},null,8,["onClick"])]),e("button",X,[h(y,{name:"tabler:trash",class:"size-6 mt-1",onClick:c=>b(d).deleteItem(o.id)},null,8,["onClick"])])])]))),128))])]),i.value.open?(r(),a("div",Y,[e("h1",Z,v(s.value)+"待讀書籍",1),e("form",{onSubmit:E(g,["prevent"]),onKeydown:j(g,["enter"])},[w(e("input",{"onUpdate:modelValue":t[1]||(t[1]=o=>l.value=o),type:"text",class:"border-2 border-gray-300 my-2 w-65 p-2 rounded-sm text-left",placeholder:s.value==="編輯"?u.value.text:"請輸入書名"},null,8,ee),[[L,l.value]]),e("div",te,[e("button",{class:"rounded-md px-3 py-1 cursor-pointer hover:bg-gray-200 hover:text-white text-gray-200 font-bold",onClick:t[2]||(t[2]=o=>m())}," 關閉 "),e("input",{type:"submit",value:s.value==="編輯"?"編輯":"新增",class:"rounded-md px-3 py-1 cursor-pointer hover:bg-blue-200 hover:text-white text-blue-200 font-bold"},null,8,oe)])],32)])):k("",!0)]),e("button",{class:T(["absolute text-2xl rounded-full bg-blue-300 cursor-pointer text-white font-bold left-1/2 bottom-18 -translate-x-1/2 p-3 px-5 shadow-2xl z-200",i.value.open?"bg-green-400":"bg-blue-300"]),onClick:t[3]||(t[3]=o=>f("新增"))}," ＋新增 ",2)])])}}};export{ie as default};
